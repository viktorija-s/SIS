<html xmlns:th="http://www.thymeleaf.org">

<body>
	<div th:if="${message}" style="color:red; font-weight:bold;" th:text="${message}"></div>

	<p th:text="#{grade.edit.title}"> Lūdzu rediģē eksistējošo vērtējumu!</p>

	<form action="#" th:action="@{/vertejumi/CRUD/update/{id}(id=${vertejumi.vid})}" th:object="${vertejumi}"
		method="post">
		<table>
			<tr>
				<td th:text="#{grade.edit.value}">Rediģē vērtējumu:</td>
				<td><input type="number" step="0.01" th:field="*{vertejums}" /></td>
			</tr>

			<tr>
				<td th:text="#{grade.edit.date}">Rediģē vērtējuma datumu:</td>
				<td><input type="date" th:field="*{datums}" /></td>
			</tr>

			<tr>
				<td th:text="#{grade.edit.participants}">Rediģē vērtējuma kursa dalībniekus:</td>
				<td><select th:field="*{kursaDalibnieki}" required>
						<option th:each="d : ${kursaDalibniekiList}" th:value="${d.kdid}"
							th:text="${d.vards + ' ' + d.uzvards + ' (' + d.personasId + ')'}"
							th:selected="${d.kdid == vertejumi.kursaDalibnieki.kdid}">
						</option>
					</select>
				</td>
			</tr>

			<tr>
				<td th:text="#{grade.edit.courseDates}">Rediģē vērtējuma kursa datumus:</td>
				<td><select th:field="*{kursaDatumi}" required>
						<option th:each="k : ${kursaDatumiList}" th:value="${k.kursaDatId}"
							th:text="${#temporals.format(k.sakumaDatums, 'yyyy-MM-dd')} + ' ' + #{grade.until} + ' ' + ${#temporals.format(k.beiguDatums, 'yyyy-MM-dd')}"
							th:selected="${k.kursaDatId == vertejumi.kursaDatumi.kursaDatId}">
						</option>
					</select>
				</td>

			</tr>

			<tr>
				<td>
					<button type="submit" th:text="#{grade.edit.saveButton}"> Saglabāt rediģēto vērtējumu</button>
				</td>
			</tr>

		</table>
	</form>
</body>

</html>